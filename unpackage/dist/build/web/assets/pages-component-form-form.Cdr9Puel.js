import{s as e,h as r,c as t,w as n,i as a,o as s,d as u,e as l,I as o,v as i,x as c,y as m,z as f,q as h,p as g,k as d,A as k}from"./index-BLvKzfQr.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const p={error:"",check:function(e,r){for(var t=0;t<r.length;t++){if(!r[t].checkType)return!0;if(!r[t].name)return!0;if(!r[t].errorMsg)return!0;if(!e[r[t].name])return this.error=r[t].errorMsg,!1;switch(r[t].checkType){case"string":if(!new RegExp("^.{"+r[t].checkRule+"}$").test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"int":if(!new RegExp("^(-[1-9]|[1-9])[0-9]{"+r[t].checkRule+"}$").test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"between":if(!this.isNumber(e[r[t].name]))return this.error=r[t].errorMsg,!1;if((n=r[t].checkRule.split(","))[0]=Number(n[0]),n[1]=Number(n[1]),e[r[t].name]>n[1]||e[r[t].name]<n[0])return this.error=r[t].errorMsg,!1;break;case"betweenD":if(!/^-?[1-9][0-9]?$/.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;if((n=r[t].checkRule.split(","))[0]=Number(n[0]),n[1]=Number(n[1]),e[r[t].name]>n[1]||e[r[t].name]<n[0])return this.error=r[t].errorMsg,!1;break;case"betweenF":var n;if(!/^-?[0-9][0-9]?.+[0-9]+$/.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;if((n=r[t].checkRule.split(","))[0]=Number(n[0]),n[1]=Number(n[1]),e[r[t].name]>n[1]||e[r[t].name]<n[0])return this.error=r[t].errorMsg,!1;break;case"same":if(e[r[t].name]!=r[t].checkRule)return this.error=r[t].errorMsg,!1;break;case"notsame":if(e[r[t].name]==r[t].checkRule)return this.error=r[t].errorMsg,!1;break;case"email":if(!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"phoneno":if(!/^1[0-9]{10,10}$/.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"zipcode":if(!/^[0-9]{6}$/.test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"reg":if(!new RegExp(r[t].checkRule).test(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"in":if(-1==r[t].checkRule.indexOf(e[r[t].name]))return this.error=r[t].errorMsg,!1;break;case"notnull":if(null==e[r[t].name]||e[r[t].name].length<1)return this.error=r[t].errorMsg,!1}}return!0},isNumber:function(e){return/^-?[1-9][0-9]?.?[0-9]*$/.test(e)}};const _=b({data:()=>({}),methods:{formSubmit:function(r){console.log("form发生了submit事件，携带数据为："+JSON.stringify(r.detail.value));var t=r.detail.value,n=p.check(t,[{name:"nickname",checkType:"string",checkRule:"1,3",errorMsg:"姓名应为1-3个字符"},{name:"gender",checkType:"in",checkRule:"男,女",errorMsg:"请选择性别"},{name:"loves",checkType:"notnull",checkRule:"",errorMsg:"请选择爱好"}]);e(n?{title:"验证通过!",icon:"none"}:{title:p.error,icon:"none"})},formReset:function(e){console.log("清空数据")}}},[["render",function(e,b,p,_,M,R){const w=a,v=o,y=i,N=r("lable"),x=c,$=m,S=f,T=h,E=g,j=d,z=k;return s(),t(w,null,{default:n((()=>[u(z,{onSubmit:R.formSubmit,onReset:R.formReset},{default:n((()=>[u(w,null,{default:n((()=>[l("姓名")])),_:1}),u(v,{name:"nickname",placeholder:"请输入用户名"}),u(w,null,{default:n((()=>[u(w,null,{default:n((()=>[l("性别")])),_:1}),u(x,{name:"gender"},{default:n((()=>[u(N,null,{default:n((()=>[u(y,{value:"男"},{default:n((()=>[l("男")])),_:1})])),_:1}),u(N,null,{default:n((()=>[u(y,{value:"女"},{default:n((()=>[l("女")])),_:1})])),_:1})])),_:1})])),_:1}),u(w,null,{default:n((()=>[u(w,null,{default:n((()=>[l("爱好")])),_:1}),u(S,{name:"loves"},{default:n((()=>[u(N,null,{default:n((()=>[u($,{value:"读书"},{default:n((()=>[l("读书")])),_:1})])),_:1}),u(N,null,{default:n((()=>[u($,{value:"写字"},{default:n((()=>[l("写字")])),_:1})])),_:1})])),_:1})])),_:1}),u(w,null,{default:n((()=>[u(w,null,{default:n((()=>[l("年龄")])),_:1}),u(T,{value:"20",name:"age","show-value":""})])),_:1}),u(w,null,{default:n((()=>[l("保留选项")])),_:1}),u(E,{name:"switch"}),u(j,{type:"primary","form-type":"submit"},{default:n((()=>[l("提交")])),_:1}),u(j,{type:"primary","form-type":"reset"},{default:n((()=>[l("重置")])),_:1})])),_:1},8,["onSubmit","onReset"])])),_:1})}]]);export{_ as default};
